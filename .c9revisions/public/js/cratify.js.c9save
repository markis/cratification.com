{"ts":1343317994739,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function cratify(animations) {\n\n    var IMG_URL = \"http://images.crateandbarrel.com/is/image/Crate/CBBold?fmt=png-alpha&$t=%5Cfs52%5Cexpnd-8+\";\n    var winHeight = $(window).height();\n    var winWidth = $(window).width();\n    \n    $(\"body\").css({\"overflow\": \"hidden\", fontFamily:\"helvetica\", fontWeight: \"bold\", fontSize: 120});\n    var $container = $(\"<div />\").css({\"overflow\": \"hidden\"}).appendTo(\"body\");\n    \n    var $ampersand = $(\"<span />\").html(\"&\").css({position:\"absolute\"}).appendTo($container);\n    \n    \n    $ampersand.position({\n        my: \"center\",\n        at: \"center\",\n        of: $(window),\n        collision: \"fit\",\n        using: positionEverything\n    });\n    \n    function positionEverything(windowPos) {\n        $ampersand.css(windowPos); \n        for (i=0; i<animations.length; i++)\n        {\n            var animation = animations[i];\n            animation.left.element = $(\"<span />\").html(animation.left.text).css({ position:\"absolute\",padding:0,overflow:\"hidden\",visibility:\"hidden\"}).appendTo($container);\n            animation.right.element = $(\"<span />\").html(animation.right.text).css({ position:\"absolute\",padding:0,overflow:\"hidden\",visibility:\"hidden\"}).appendTo($container);\n            animation.left.element.position({\n                my: \"right center\",\n                at: \"left center\",\n                of: $ampersand,\n                collision: \"fit\",\n                using: function(pos) {animation.left.pos= pos;}\n            })\n            animation.right.element.position({\n                my: \"left center\",\n                at: \"right center\",\n                of: $ampersand,\n                collision: \"fit\",\n                using: function(pos) {animation.right.pos= pos;}\n            })\n        }\n    }\n    \n    var left = 0;\n    var right = 0;\n    for (i=0; i<animations.length; i++)\n    {\n           \n        $('body')\n        // left side\n        .delay(1000, 'leftChain')\n        .queue('leftChain', function(next){\n            runAnimation(animations[left].left, 'in', next);\n        })\n        .delay(1000, 'leftChain')\n        .queue('leftChain', function(next){  \n            runAnimation(animations[left].left, 'out', next);\n            left++;\n        })\n        // right side\n        .delay(1000, 'rightChain')\n        .queue('rightChain', function(next){\n            runAnimation(animations[right].right, 'in', next);\n        })\n        .delay(1000, 'rightChain')\n        .queue('rightChain', function(next){  \n            runAnimation(animations[right].right, 'out', next);\n            right++;\n        });\n    }\n    $('body').queue('leftChain');\n    $('body').queue('rightChain');\n    \n    $('body').dequeue('leftChain');\n    $('body').dequeue('rightChain');\n    \n    /********************************************************************\n    \n        Define Animations\n    \n    ********************************************************************/\n    function runAnimation(animation, inOut, next) {\n        if (inOut == 'out') {\n            switch(animation.animationOut)\n            {\n            case \"fadeOut\": fadeOut(animation, next); break;\n            case \"flyOutUp\": flyOutUp(animation, next); break;\n            case \"flyOutLeft\": flyOutLeft(animation, next); break;\n            case \"flyOutRight\": flyOutRight(animation, next); break;\n            default: case \"flyOutDown\": flyOutDown(animation, next); break;               \n            }\n        } else {\n            switch(animation.animationIn)\n            {\n            case \"revealDown\": revealDown(animation, next); break;\n            case \"revealDownHalf\": revealDownHalf(animation, next); break;\n            case \"revealUp\": revealUp(animation, next); break;\n            case \"revealUpHalf\": revealUpHalf(animation, next); break;\n            case \"fadeIn\": fadeIn(animation, next); break;\n            case \"flyInUp\": flyInUp(animation, next); break;\n            case \"flyInLeft\": flyInLeft(animation, next); break;\n            case \"flyInRight\": flyInRight(animation, next); break;\n            case \"flyInSlot\": flyInSlot(animation, next); break;\n            default: case \"flyInDown\": flyInDown(animation, next); break;\n            }\n        }\n    }\n    \n    function flyInUp(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element.css({visibility:\"visible\", left: pos.left, top: winHeight})\n        .animate({top: pos.top}, {duration:1000, queue:false, complete: next});\n    }\n    \n    function flyInDown(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element.css({visibility:\"visible\", left: pos.left, top: element.height() * 2 * -1})\n        .animate({top: pos.top}, {duration:1000, queue:false, complete: next});\n    }\n    \n    function flyInLeft(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element.css({visibility:\"visible\", left: element.width() * 2 * -1, top: pos.top})\n        .animate({left: pos.left}, {duration:1000, queue:false, complete: next});\n    }\n    \n    function flyInRight(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element\n        .css({visibility:\"visible\", left: element.width() * 2 * -1, top: pos.top})\n        .animate({left: pos.left}, {duration:1000, queue:false, complete: next});\n    }\n    \n    function flyInSlot(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        var beginningTop = element.height() * 2 * -1;\n        element\n            .css({visibility:\"visible\", left: pos.left, top: beginningTop })\n        .animate({left: pos.left}\n           , {\n               duration:200\n               , queue:false\n               , complete: function() {\n               element.css({top: beginningTop })\n                   .animate({top: winHeight}\n               , {\n               duration:200\n               , queue:false\n               , complete: function() {\n                   element.css({top: beginningTop })\n               .animate({top: winHeight}\n               , {\n               duration:200\n               , queue:false\n               , complete: function() {\n                   element.css({top: beginningTop })\n                       .animate({top: pos.top}\n               , {\n               duration:200\n               , queue:false\n               , complete: function() {\n                   next();\n                       \n               }})\n               }})\n               }})\n               }});\n    }\n                   \n    function fadeIn(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element.hide().css({visibility:\"visible\",left: pos.left, top: pos.top}).fadeIn(1000, next);\n    }\n                   \n    function revealDownHalf(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        var height = element.height();\n        var halfHeight = height / 2;\n        element.css({visibility:\"visible\",left: pos.left, top: pos.top, height:1})\n        .animate({height: halfHeight}, {duration:1000, queue:false, complete: next})\n    }\n                   \n    function revealDown(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        var height = element.height();\n        element.css({visibility:\"visible\",left: pos.left, top: pos.top, height:1})\n        .animate({height: height}, {duration:1000, queue:false, complete: next})\n    }\n                   \n    function revealUp(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        var height = element.height() - 10;\n        element.css({visibility:\"visible\",left: pos.left, top: pos.top + (height-1), height:1})\n            .animate({height: height, top: pos.top}, {duration:1000, queue:false, complete: next})\n    }\n            \n    function revealUpHalf(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        var height = element.height() - 10;\n        var halfHeight = height / 2;\n        element.css({visibility:\"visible\",left: pos.left, top: pos.top + (height-1), height:1})\n            .animate({height: halfHeight, top: (pos.top+halfHeight)}, {duration:1000, queue:false, complete: next})\n    }\n    \n    function flyOutUp(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element.animate({top: element.height() * 2 * -1}, {duration:1000, queue:false, complete: next});\n    }\n    \n    function flyOutDown(animation, next) {    \n        var pos = animation.pos;\n        var element = animation.element;\n        element.animate({top: winHeight}, {duration:1000, queue:false, complete: next });\n    }\n    \n    function flyOutLeft(animation, next) {    \n        var pos = animation.pos;\n        var element = animation.element;\n        element.animate({left: element.width() * 2 * -1}, {duration:1000, queue:false, complete: next });\n    }\n    \n    function flyOutRight(animation, next) {    \n        var pos = animation.pos;\n        var element = animation.element;\n        element.animate({left: winWidth}, {duration:1000, queue:false, complete: next });\n    }\n        \n    function fadeOut(animation, next) {\n        var pos = animation.pos;\n        var element = animation.element;\n        element.fadeOut(1000, next);\n    }\n\n}"]],"start1":0,"start2":0,"length1":0,"length2":9430}]],"length":9430}
{"contributors":[],"silentsave":false,"ts":1343413244490,"patch":[[{"diffs":[[0,"imations"],[1,", container"],[0,") {\n"],[-1,""],[0,"\n    var"]],"start1":19,"start2":19,"length1":20,"length2":31},{"diffs":[[0,"tainer ="],[1," container ||"],[0," $(\"<div"]],"start1":352,"start2":352,"length1":16,"length2":29},{"diffs":[[0,"rflow\": \"hidden\""],[1,", width: "],[0,"}).appendTo(\"bod"]],"start1":396,"start2":396,"length1":32,"length2":41},{"diffs":[[0,"wPos); \n"],[-1,""],[0,"        "]],"start1":790,"start2":790,"length1":16,"length2":16},{"diffs":[[0,"; \n        for ("],[1,"var "],[0,"i=0; i<animation"]],"start1":795,"start2":795,"length1":32,"length2":36},{"diffs":[[0,"   for ("],[1,"var "],[0,"i=0; i<a"]],"start1":1836,"start2":1836,"length1":16,"length2":20},{"diffs":[[0," element"],[-1,"\n            "],[0,".css({vi"]],"start1":5600,"start2":5600,"length1":29,"length2":16},{"diffs":[[0,"gTop })\n        "],[1,"    "],[0,".animate({left: "]],"start1":5665,"start2":5665,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,", {\n               duration:200\n               , queue:false\n               "],[1,"    , {duration:200, queue:false"],[0,", co"]],"start1":5718,"start2":5718,"length1":84,"length2":40},{"diffs":[[0,"e: function() {\n"],[1,"    "],[0,"               e"]],"start1":5763,"start2":5763,"length1":32,"length2":36},{"diffs":[[0,"}\n              "],[-1," , {\n"],[0,"               d"]],"start1":5875,"start2":5875,"length1":37,"length2":32},{"diffs":[[0,"                "],[-1,"     "],[1,", {"],[0,"duration:200\n   "]],"start1":5885,"start2":5885,"length1":37,"length2":35},{"diffs":[[0,":200"],[-1,"\n               , queue:false\n               "],[1,", queue:false"],[0,", co"]],"start1":5912,"start2":5912,"length1":53,"length2":21},{"diffs":[[0,"                "],[1,"         "],[0,"element.css({top"]],"start1":5957,"start2":5957,"length1":32,"length2":41},{"diffs":[[0,"\n               "],[1,"          "],[1,"   "],[0,".animate({top: w"]],"start1":6015,"start2":6015,"length1":32,"length2":45},{"diffs":[[0,"\n               "],[-1,", {\n"],[1,"  "],[0,"               d"]],"start1":6069,"start2":6069,"length1":36,"length2":34},{"diffs":[[0,"                "],[1,", {"],[0,"duration:200\n   "]],"start1":6086,"start2":6086,"length1":32,"length2":35},{"diffs":[[0,":200"],[-1,"\n               , queue:false\n               "],[1,", queue:false"],[0,", co"]],"start1":6113,"start2":6113,"length1":53,"length2":21},{"diffs":[[0,"                "],[1,"              "],[1,"   "],[0,"element.css({top"]],"start1":6158,"start2":6158,"length1":32,"length2":49},{"diffs":[[0,"                "],[1,"             "],[0,".animate({top: p"]],"start1":6232,"start2":6232,"length1":32,"length2":45},{"diffs":[[0,"    "],[1,"   "],[-1,", {\n"],[1,"       "],[0,"    "]],"start1":6296,"start2":6296,"length1":12,"length2":18},{"diffs":[[0,"        "],[1,", {"],[0,"duration"]],"start1":6317,"start2":6317,"length1":16,"length2":19},{"diffs":[[0,":200"],[-1,"\n               , queue:false\n               "],[1,", queue:false"],[0,", co"]],"start1":6336,"start2":6336,"length1":53,"length2":21},{"diffs":[[0,"        "],[1,"           "],[1,"              "],[0,"next();\n"]],"start1":6389,"start2":6389,"length1":16,"length2":41},{"diffs":[[0,"                "],[-1,"\n  "],[0,"             }})"]],"start1":6437,"start2":6437,"length1":35,"length2":32},{"diffs":[[0,"\n               "],[1,"  "],[-1,"}})\n"],[1,"           }})\n    "],[0,"               }"]],"start1":6469,"start2":6469,"length1":36,"length2":53},{"diffs":[[0,"            }})\n"],[-1,"   "],[0,"            }});"]],"start1":6509,"start2":6509,"length1":35,"length2":32}]],"length":9417,"saved":false}
{"ts":1343413293140,"patch":[[{"diffs":[[0,"    "],[-1,"var winHeight = $(window).height();\n    var winWidth = $(window).width();"],[0,"\n"],[1,""],[0,"    "]],"start1":155,"start2":155,"length1":82,"length2":9},{"diffs":[[0,"iner || "],[1,"\n            "],[0,"$(\"<div "]],"start1":293,"start2":293,"length1":16,"length2":29},{"diffs":[[0," width: "],[1,"$(window).width()"],[0,"}).appen"]],"start1":353,"start2":353,"length1":16,"length2":33},{"diffs":[[0,"ody\");\n    \n"],[1,"    var winHeight = container.height();\n    var winWidth = container.width();\n    \n"],[0,"    var $amp"]],"start1":392,"start2":392,"length1":24,"length2":107}]],"length":9457,"saved":false}
{"ts":1343413308139,"patch":[[{"diffs":[[0,".width()"],[1,", height: $(window).height()"],[0,"}).appen"]],"start1":370,"start2":370,"length1":16,"length2":44}]],"length":9485,"saved":false}
{"ts":1343413310896,"patch":[[{"diffs":[[0,"height()"],[1," "],[0,"}).appen"]],"start1":398,"start2":398,"length1":16,"length2":17}]],"length":9486,"saved":false}
{"ts":1343413423989,"patch":[[{"diffs":[[0,"ainer = "],[1,"$("],[0,"containe"]],"start1":280,"start2":280,"length1":16,"length2":18},{"diffs":[[0,"ontainer"],[1,")"],[0," || \n   "]],"start1":291,"start2":291,"length1":16,"length2":17},{"diffs":[[0,"eight = "],[1,"$"],[0,"containe"]],"start1":448,"start2":448,"length1":16,"length2":17},{"diffs":[[0,"Width = "],[1,"$"],[0,"containe"]],"start1":488,"start2":488,"length1":16,"length2":17}]],"length":9491,"saved":false}
{"ts":1343413550471,"patch":[[{"diffs":[[0,"ize: 120});\n"],[1,"    \n"],[0,"    var $con"]],"start1":255,"start2":255,"length1":24,"length2":29},{"diffs":[[0,"ner "],[-1,"= $(container) || \n           "],[1,";\n    if (container)\n    {\n        $container = $(container);\n    } else {\n        $container ="],[0," $(\""]],"start1":287,"start2":287,"length1":38,"length2":103},{"diffs":[[0,"body\");\n"],[1,"    }\n"],[0,"    \n   "]],"start1":493,"start2":493,"length1":16,"length2":22}]],"length":9567,"saved":false}
{"ts":1343413751344,"patch":[[{"diffs":[[0,"ontainer"],[1,", ampersand"],[0,") {\n\n   "]],"start1":30,"start2":30,"length1":16,"length2":27}]],"length":9578,"saved":false}
{"ts":1343413810446,"patch":[[{"diffs":[[0,"    var "],[1,"$ampersand;\n    if (ampersand)\n    {\n        $ampersand = $(ampersand);\n    } else {\n        "],[0,"$ampersa"]],"start1":608,"start2":608,"length1":16,"length2":109},{"diffs":[[0,"ainer);\n    "],[1,"}"],[0,"\n"],[-1,"    "],[0,"\n    $ampers"]],"start1":787,"start2":787,"length1":29,"length2":26}]],"length":9668,"saved":false}
{"ts":1343413867287,"patch":[[{"diffs":[[0,"d) {"],[-1,"\n\n    var IMG_URL = \"http://images.crateandbarrel.com/is/image/Crate/CBBold?fmt=png-alpha&$t=%5Cfs52%5Cexpnd-8+\";\n    \n    \n    $(\"body\").css({\"overflow\": \"hidden\", fontFamily:\"helvetica\", fontWeight: \"bold\", fontSize: 120});\n    "],[0,"\n   "]],"start1":48,"start2":48,"length1":238,"length2":8},{"diffs":[[0,"  }\n"],[-1,"    \n    var winHeight = $container.height();\n    var winWidth = $container.width();\n    "],[0,"\n"],[1,""],[0,"    "]],"start1":284,"start2":284,"length1":98,"length2":9},{"diffs":[[0,"ainer);\n"],[-1,""],[0,"    }"],[1,"\n    var winHeight = $container.height();\n    var winWidth = $container.width();\n    $container.css({\"overflow\": \"hidden\", fontFamily:\"helvetica\", fontWeight: \"bold\", fontSize: 120});"],[0,"\n\n    $a"]],"start1":468,"start2":468,"length1":21,"length2":204}]],"length":9532,"saved":false}
